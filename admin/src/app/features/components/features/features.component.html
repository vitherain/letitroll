<app-route-header header="Features">
  <button class="sidenav-toggle"
          mat-icon-button
          matTooltip="Projects and environments"
          matTooltipPosition="after"
          (click)="toggleSideNav()">
    <mat-icon>menu</mat-icon>
  </button>
</app-route-header>

<mat-sidenav-container class="sidenav-container">
  <mat-sidenav-content>
    <div class="sidenav-content-wrapper">

      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>

  <mat-sidenav #sidenav mode="side" [opened]="sideNavOpened$ | async">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Select project
        </mat-panel-title>
      </mat-expansion-panel-header>

      <button mat-button *ngFor="let project of (projects$ | async).entities" (click)="selectProject(project)">
        {{project.name}}
      </button>
    </mat-expansion-panel>
  </mat-sidenav>
</mat-sidenav-container>
